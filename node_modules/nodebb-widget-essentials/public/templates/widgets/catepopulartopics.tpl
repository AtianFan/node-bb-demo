<div class="widget-cont">
	<div class="widget-title">
		<span>{cateName}</span>
		<div class="pull-right js-wid-tab-{cid}" data-type='nums'>
			<a target="_blank" href="{relative_path}/{link}/{cid}">{cateTitle}</a>
		</div>
		<div class="pull-right widget-recent-tag js-wid-tab-{cid} on" data-type='recent'>
			<a href="javascript:;">最新</a> |
		</div>
	</div>
	<ul class="popular_topics" id="wid-nums-{cid}">
		<!-- BEGIN allTopicsByNums -->
		<li class="clearfix widget-topics">
			<p class="popular_topics_left pull-left">
				<a href="{relative_path}/topic/{allTopicsByNums.slug}">{allTopicsByNums.title}</a>
			</p>
			<div class="popular_topics_right pull-right">
				<span class="answer-span">{allTopicsByNums.postcount} 答</span> | <span class="view-span">{allTopicsByNums.viewcount} 阅</span>
			</div>
		</li>
		<!-- END allTopicsByNums -->
	</ul>
	<ul class="popular_topics hide" id="wid-recent-{cid}">
		<!-- BEGIN allTopicsByTime -->
		<li class="clearfix widget-topics">
			<p class="popular_topics_left pull-left">
				<a href="{relative_path}/topic/{allTopicsByTime.slug}">{allTopicsByTime.title}</a>
			</p>
			<div class="popular_topics_right pull-right">
				<div class="pull-right post-preview-footer">
					<div class="timeago" title="{allTopicsByTime.lastposttimeISO}"></div>
				</div>
			</div>
		</li>
		<!-- END allTopicsByTime -->
	</ul>
</div>

<script>
'use strict';
/* globals app*/

$(document).ready(function() {
	app.createUserTooltips();
	$('.popular_topics').find('span.timeago').timeago();
	$('.js-wid-tab-{cid}').on('mouseover', function(e){
		var $this = $(this);
		console.log($this)
		if($this.hasClass('on')){
			return
		}
		$this.parent().children().removeClass('on');
		$this.addClass('on');
		$this.parents('.widget-cont').children('.popular_topics').addClass('hide');
		console.log($('#wid-'+$this.data('type')+'-{cid}'))
		$('#wid-'+$this.data('type')+'-{cid}').removeClass('hide');
	})
});
</script>
